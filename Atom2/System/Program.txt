load-file System.txt pragma

reference "System.Windows.Forms, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" "System.Windows.Forms" pragma
reference "System.Drawing, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" "System.Drawing" pragma

(1 10 range (show) map) (newAction) set

((number) put 2 number squareRoot toInt range (number swap modulo 0 not-equal) all) (isPrime) set
(range ((n) put (n output) (n isPrime) if) map) (dumpPrimes) set

Form new
: TextBox new
  : (textBox) put
  : (true) Multiline
  : (Color LightGreen) BackColor
  : (DockStyle Fill) Dock
  addControl
: Button new 
  : ("Press") Text
  : (DockStyle Top) Dock
  : (textBox) (textBox ("Hello World") AppendText) (Click) addEventHandler 
  addControl
: MenuStrip new 
  : Items ("File") Add
    : "New" empty ("New" show) addMenuItem
    : "Open" empty ("Open" show) addMenuItem
      "Close" empty ("Close" show) addMenuItem
  : Items ("Test") Add
    : "New Action" empty (newAction) addMenuItem
      "Dump Primes" empty (2 100 dumpPrimes) addMenuItem
  addControl
ShowDialog .
