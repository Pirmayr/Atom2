load-file System.txt pragma

(mscorlib) import
(System.Windows.Forms) import
(System.Numerics) import
(System.Drawing) import

(System.Windows.Forms) use

(
  (menu-item menu-text click-handler) put
  (menu-item) get [DropDownItems] [(menu-text) get Add] [(click-handler) get create-event-handler Click]   
)
(add-menu-item) set

(
  TextBox [new] (textBox) set
  textBox [true Multiline]
  textBox [DockStyle [Fill] Dock]

  Button [new] (button) set
  button [DockStyle [Top] Dock]
  button ["Press" Text]
  button [(drop drop textBox ["Hello World!" Text]) create-event-handler Click]

  MenuStrip [new] (mainMenuStrip) set
  mainMenuStrip [Items] ["File" Add] (fileMenuItem) set
  [fileMenuItem "New" (drop-2 "New" message) add-menu-item]
  [fileMenuItem "Open" (drop-2 "Open" message) add-menu-item]
  [fileMenuItem "Save" (drop-2 "Save" message) add-menu-item]

  Form [new] (form) set
  form [Controls] [textBox Add]
  form [Controls] [button Add]
  form [Controls] [mainMenuStrip Add]
  (form) get
)
(new-main-form) set

Application [new-main-form Run]

  fileMenuItem [DropDownItems] ["Open" Add] (openMenuItem) set
  openMenuItem [(drop drop "Open" message) create-event-handler Click]   
  fileMenuItem [DropDownItems] ["Save" Add] (saveMenuItem) set
  saveMenuItem [(drop drop "Save" message) create-event-handler Click]   


