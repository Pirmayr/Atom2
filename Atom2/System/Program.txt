load-file System.txt pragma

("mscorlib, Version=4.0.0.0, Culture=neutral") import
("System.Windows.Forms, Version=4.0.0.0, Culture=neutral") import

(System.Windows.Forms) use

(
  (menu-item menu-text click-handler) put
  menu-item <DropDownItems> <menu-text Add> <(click-handler) get create-event-handler Click>
)
(add-menu-item) set

(
  TextBox <new> (textBox) set
  textBox <true Multiline>
  textBox <DockStyle <Fill> Dock>

  Button <new> (button) set
  button <DockStyle <Top> Dock>
  button <"Press" Text>
  button <(drop-2 textBox <"Hello World!" Text>) create-event-handler Click>

  MenuStrip <new> (mainMenuStrip) set
  mainMenuStrip <Items> <"File" Add> (menuItem) set
  menuItem "New" (drop-2 "New" show) add-menu-item
  menuItem "Open" (drop-2 "Open" show) add-menu-item
  menuItem "Close" (drop-2 "Close" show) add-menu-item
  mainMenuStrip <Items> <"Edit" Add> (menuItem) set
  menuItem "Cut" (drop-2 "Cut" show) add-menu-item
  menuItem "Copy" (drop-2 "Copy" show) add-menu-item
  menuItem "Paste" (drop-2 "Paste" show) add-menu-item

  Form <new> (form) set
  form <Controls> <textBox Add>
  form <Controls> <button Add>
  form <Controls> <mainMenuStrip Add>
  (form) get
)
(new-main-form) set

Application <new-main-form Run>
