load-file System.txt pragma

reference "System.Windows.Forms, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" "System.Windows.Forms" pragma
reference "System.Drawing, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" "System.Drawing" pragma

(1 10 range (i show) (i) map) (mapTest) set
(2 1000 dumpPrimes) (primesTest) set
(20.0 factorial show) (factorialTest) set
("Hello World!" output) (outputTest) set
(1 show 100000 newArray (array) put (array (true i) SetValue) (i) 0 99999 1 for 2 show) (arrayTest) set

Form new
: TextBox new
  : (textBox) put
  : (true) Multiline
  : (Color LightGreen) BackColor
  : (DockStyle Fill) Dock
  addControl
: Button new 
  : ("Press") Text
  : (DockStyle Top) Dock
  : (textBox) (textBox ("Hello World") AppendText) (Click) addEventHandler 
  addControl
: MenuStrip new 
  : Items ("File") Add
    : "New" empty ("New" show) addMenuItem
    : "Open" empty ("Open" show) addMenuItem
      "Close" empty ("Close" show) addMenuItem
  : Items ("Test") Add
    : "New Action" empty (mapTest) addMenuItem
    : "Dump Primes" empty (primesTest) addMenuItem
    : "Factorial Test" empty (factorialTest) addMenuItem
    : "Hello World" empty (outputTest) addMenuItem
      "Array Test" empty (arrayTest) addMenuItem
  addControl
ShowDialog .
