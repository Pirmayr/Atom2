load-file System.txt pragma

("mscorlib, Version=4.0.0.0, Culture=neutral") import
("System.Windows.Forms, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089") import

(System.Windows.Forms) use

( 
  |menuItem menuText context clickHandler|
  menuItem <DropDownItems> <menuText Add> context clickHandler addClickHandler
)
(addMenuItem) set

(
  Form <new> (form) set

  TextBox <new> |textBox|
  textBox <true Multiline>
  textBox <DockStyle <Fill> Dock>

  Button <new>
  : <DockStyle <Top> Dock>
  : <"Press" Text>
  : (textBox) (|sender arguments| textBox <"Hello World!" Text>) addClickHandler
  |button|

  MenuStrip <new> 
  : <Items> <"File" Add>
    : "New" (form) (|sender arguments| "New" show) addMenuItem
    : "Open" (form) (|sender arguments| "Open" show) addMenuItem
      "Close" (form) (|sender arguments| form <Hide> Application <Exit>) addMenuItem
  : <Items> <"Edit" Add>
    : "Cut" (form) (|sender arguments| "Cut" show) addMenuItem
    : "Copy" (form) (|sender arguments| "Copy" show) addMenuItem
      "Paste" (form) (|sender arguments| "Paste" show) addMenuItem
  |mainMenuStrip|

  form <Controls> <textBox Add>
  form <Controls> <button Add>
  form <Controls> <mainMenuStrip Add>
  (form) get
)
(new-main-form) set

Application <new-main-form Run>

